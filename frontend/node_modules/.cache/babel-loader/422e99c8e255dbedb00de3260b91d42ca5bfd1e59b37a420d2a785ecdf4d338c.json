{"ast":null,"code":"\"use strict\";\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n  return to;\n};\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cloneIncomingMessage = exports.IS_CLONE = void 0;\nvar http_1 = require(\"http\");\nvar stream_1 = require(\"stream\");\nexports.IS_CLONE = Symbol('isClone');\n/**\n * Clones a given `http.IncomingMessage` instance.\n */\nfunction cloneIncomingMessage(message) {\n  var clone = message.pipe(new stream_1.PassThrough());\n  // Inherit all direct \"IncomingMessage\" properties.\n  inheritProperties(message, clone);\n  // Deeply inherit the message prototypes (Readable, Stream, EventEmitter, etc.).\n  var clonedPrototype = Object.create(http_1.IncomingMessage.prototype);\n  getPrototypes(clone).forEach(function (prototype) {\n    inheritProperties(prototype, clonedPrototype);\n  });\n  Object.setPrototypeOf(clone, clonedPrototype);\n  Object.defineProperty(clone, exports.IS_CLONE, {\n    enumerable: true,\n    value: true\n  });\n  return clone;\n}\nexports.cloneIncomingMessage = cloneIncomingMessage;\n/**\n * Returns a list of all prototypes the given object extends.\n */\nfunction getPrototypes(source) {\n  var prototypes = [];\n  var current = source;\n  while (current = Object.getPrototypeOf(current)) {\n    prototypes.push(current);\n  }\n  return prototypes;\n}\n/**\n * Inherits a given target object properties and symbols\n * onto the given source object.\n * @param source Object which should acquire properties.\n * @param target Object to inherit the properties from.\n */\nfunction inheritProperties(source, target) {\n  var e_1, _a;\n  var properties = __spreadArray(__spreadArray([], __read(Object.getOwnPropertyNames(source))), __read(Object.getOwnPropertySymbols(source)));\n  try {\n    for (var properties_1 = __values(properties), properties_1_1 = properties_1.next(); !properties_1_1.done; properties_1_1 = properties_1.next()) {\n      var property = properties_1_1.value;\n      if (target.hasOwnProperty(property)) {\n        continue;\n      }\n      var descriptor = Object.getOwnPropertyDescriptor(source, property);\n      if (!descriptor) {\n        continue;\n      }\n      Object.defineProperty(target, property, descriptor);\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (properties_1_1 && !properties_1_1.done && (_a = properties_1.return)) _a.call(properties_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n}","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEaA,gBAAQ,GAAGC,MAAM,CAAC,SAAS,CAAC;AAMzC;;;AAGA,SAAgBC,oBAAoB,CAClCC,OAAwB;EAExB,IAAMC,KAAK,GAAGD,OAAO,CAACE,IAAI,CAAC,IAAIC,oBAAW,EAAE,CAAC;EAE7C;EACAC,iBAAiB,CAACJ,OAAO,EAAEC,KAAK,CAAC;EAEjC;EACA,IAAMI,eAAe,GAAGC,MAAM,CAACC,MAAM,CAACC,sBAAe,CAACC,SAAS,CAAC;EAChEC,aAAa,CAACT,KAAK,CAAC,CAACU,OAAO,CAAC,UAACF,SAAS;IACrCL,iBAAiB,CAACK,SAAS,EAAEJ,eAAe,CAAC;EAC/C,CAAC,CAAC;EACFC,MAAM,CAACM,cAAc,CAACX,KAAK,EAAEI,eAAe,CAAC;EAE7CC,MAAM,CAACO,cAAc,CAACZ,KAAK,EAAEJ,gBAAQ,EAAE;IACrCiB,UAAU,EAAE,IAAI;IAChBC,KAAK,EAAE;GACR,CAAC;EAEF,OAAOd,KAAyC;AAClD;AArBAJ;AAuBA;;;AAGA,SAASa,aAAa,CAACM,MAAc;EACnC,IAAMC,UAAU,GAAa,EAAE;EAC/B,IAAIC,OAAO,GAAGF,MAAM;EAEpB,OAAQE,OAAO,GAAGZ,MAAM,CAACa,cAAc,CAACD,OAAO,CAAC,EAAG;IACjDD,UAAU,CAACG,IAAI,CAACF,OAAO,CAAC;;EAG1B,OAAOD,UAAU;AACnB;AAEA;;;;;;AAMA,SAASb,iBAAiB,CAACY,MAAc,EAAEK,MAAc;;EACvD,IAAMC,UAAU,0CACXhB,MAAM,CAACiB,mBAAmB,CAACP,MAAM,CAAC,WAClCV,MAAM,CAACkB,qBAAqB,CAACR,MAAM,CAAC,EACxC;;IAED,KAAuB,sCAAU,qGAAE;MAA9B,IAAMS,QAAQ;MACjB,IAAIJ,MAAM,CAACK,cAAc,CAACD,QAAQ,CAAC,EAAE;QACnC;;MAGF,IAAME,UAAU,GAAGrB,MAAM,CAACsB,wBAAwB,CAACZ,MAAM,EAAES,QAAQ,CAAC;MACpE,IAAI,CAACE,UAAU,EAAE;QACf;;MAGFrB,MAAM,CAACO,cAAc,CAACQ,MAAM,EAAEI,QAAQ,EAAEE,UAAU,CAAC;;;;;;;;;;;;;AAEvD","names":["exports","Symbol","cloneIncomingMessage","message","clone","pipe","stream_1","inheritProperties","clonedPrototype","Object","create","http_1","prototype","getPrototypes","forEach","setPrototypeOf","defineProperty","enumerable","value","source","prototypes","current","getPrototypeOf","push","target","properties","getOwnPropertyNames","getOwnPropertySymbols","property","hasOwnProperty","descriptor","getOwnPropertyDescriptor"],"sources":["C:\\Users\\Gregory Santosa\\Desktop\\Fall2022HW\\personal\\cse186\\Assignment8\\frontend\\node_modules\\@mswjs\\interceptors\\src\\interceptors\\ClientRequest\\utils\\cloneIncomingMessage.ts"],"sourcesContent":["import { IncomingMessage } from 'http'\nimport { PassThrough } from 'stream'\n\nexport const IS_CLONE = Symbol('isClone')\n\nexport interface ClonedIncomingMessage extends IncomingMessage {\n  [IS_CLONE]: boolean\n}\n\n/**\n * Clones a given `http.IncomingMessage` instance.\n */\nexport function cloneIncomingMessage(\n  message: IncomingMessage\n): ClonedIncomingMessage {\n  const clone = message.pipe(new PassThrough())\n\n  // Inherit all direct \"IncomingMessage\" properties.\n  inheritProperties(message, clone)\n\n  // Deeply inherit the message prototypes (Readable, Stream, EventEmitter, etc.).\n  const clonedPrototype = Object.create(IncomingMessage.prototype)\n  getPrototypes(clone).forEach((prototype) => {\n    inheritProperties(prototype, clonedPrototype)\n  })\n  Object.setPrototypeOf(clone, clonedPrototype)\n\n  Object.defineProperty(clone, IS_CLONE, {\n    enumerable: true,\n    value: true,\n  })\n\n  return clone as unknown as ClonedIncomingMessage\n}\n\n/**\n * Returns a list of all prototypes the given object extends.\n */\nfunction getPrototypes(source: object): object[] {\n  const prototypes: object[] = []\n  let current = source\n\n  while ((current = Object.getPrototypeOf(current))) {\n    prototypes.push(current)\n  }\n\n  return prototypes\n}\n\n/**\n * Inherits a given target object properties and symbols\n * onto the given source object.\n * @param source Object which should acquire properties.\n * @param target Object to inherit the properties from.\n */\nfunction inheritProperties(source: object, target: object): void {\n  const properties = [\n    ...Object.getOwnPropertyNames(source),\n    ...Object.getOwnPropertySymbols(source),\n  ]\n\n  for (const property of properties) {\n    if (target.hasOwnProperty(property)) {\n      continue\n    }\n\n    const descriptor = Object.getOwnPropertyDescriptor(source, property)\n    if (!descriptor) {\n      continue\n    }\n\n    Object.defineProperty(target, property, descriptor)\n  }\n}\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}