{"ast":null,"code":"import _defineProperty from\"C:/Users/Gregory Santosa/Desktop/Fall2022HW/personal/cse186/Assignment8/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"C:/Users/Gregory Santosa/Desktop/Fall2022HW/personal/cse186/Assignment8/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/*\n#######################################################################\n#\n# Copyright (C) 2020-2022 David C. Harrison. All right reserved.\n#\n# You may not use, distribute, publish, or modify this code without\n# the express written permission of the copyright holder.\n#\n#######################################################################\n*/import React from'react';import AppBar from'@mui/material/AppBar';import Box from'@mui/material/Box';import CssBaseline from'@mui/material/CssBaseline';import Divider from'@mui/material/Divider';import Drawer from'@mui/material/Drawer';import IconButton from'@mui/material/IconButton';import InboxIcon from'@mui/icons-material/MoveToInbox';import List from'@mui/material/List';import ListItem from'@mui/material/ListItem';import ListItemButton from'@mui/material/ListItemButton';import ListItemIcon from'@mui/material/ListItemIcon';import ListItemText from'@mui/material/ListItemText';import MailIcon from'@mui/icons-material/Mail';import MenuIcon from'@mui/icons-material/Menu';import Toolbar from'@mui/material/Toolbar';import Typography from'@mui/material/Typography';import Grid from'@mui/material/Grid';import{styled,alpha}from'@mui/material/styles';import InputBase from'@mui/material/InputBase';import SearchIcon from'@mui/icons-material/Search';import NavigateBeforeIcon from'@mui/icons-material/NavigateBefore';import Avatar from'@mui/material/Avatar';import{useState}from'react';import DeleteIcon from'@mui/icons-material/Delete';import MoveToInboxIcon from'@mui/icons-material/MoveToInbox';import MailOutlineIcon from'@mui/icons-material/MailOutline';import ArrowBackIcon from'@mui/icons-material/ArrowBack';import StarIcon from'@mui/icons-material/Star';import ArrowCircleRightIcon from'@mui/icons-material/ArrowCircleRight';import SharedContext from'./SharedContext.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var drawerWidth=160;var fetchMails=function fetchMails(setMails,setError,mailbox){var item=localStorage.getItem('user');if(!item){return;}var user=JSON.parse(item);var bearerToken=user.accessToken;fetch('http://localhost:3010/v0/Mailbox?mailbox='+mailbox,{method:'get',headers:new Headers({'Authorization':\"Bearer \".concat(bearerToken),'Content-Type':'application/x-www-form-urlencoded'})}).then(function(response){if(!response.ok){throw response;}return response.json();}).then(function(json){localStorage.setItem('rand','4');setError('');setMails(json);}).catch(function(error){localStorage.setItem('random','4');console.log(error);setMails([]);setError(\"\".concat(error.status,\" - \").concat(error.statusText));});};/**\n * @return {object} JSX Table\n */function Home(){var user=JSON.parse(localStorage.getItem('user'));var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),mails=_React$useState2[0],setMails=_React$useState2[1];var _React$useState3=React.useState(user?user.name:''),_React$useState4=_slicedToArray(_React$useState3,2),name=_React$useState4[0],setName=_React$useState4[1];var _React$useState5=React.useState('Logged Out'),_React$useState6=_slicedToArray(_React$useState5,2),error=_React$useState6[0],setError=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),mobileOpen=_React$useState8[0],setMobileOpen=_React$useState8[1];var _useState=useState('Inbox'),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),display=_useState4[0],setDisplay=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),subject=_useState6[0],setSubject=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),from=_useState8[0],setFrom=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),received=_useState10[0],setReceived=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),content=_useState12[0],setContent=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),favorite=_useState14[0],setFavorite=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),fromAddress=_useState16[0],setFromAddress=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),numStarred=_useState18[0],setNumStarred=_useState18[1];var _React$useContext=React.useContext(SharedContext),mailbox=_React$useContext.mailbox;var handleDrawerToggle=function handleDrawerToggle(){setMobileOpen(!mobileOpen);};var logout=function logout(){localStorage.removeItem('user');setMails([]);setName('');setError('Logged Out');};React.useEffect(function(){if(mailbox){fetchMails(setMails,setError,mailbox);}fetchMails(setMails,setError,'Inbox');if(mailbox&&typeof mailbox!=='string'){setMails(mailbox);}},[mailbox]);// Handles Inbox press, updates category and title\nvar handleInbox=function handleInbox(){setTitle('Inbox');setDisplay(false);fetchMails(setMails,setError,'Inbox');};// Handles Trash press, updates category and title\nvar handleTrash=function handleTrash(){setTitle('Trash');setDisplay(false);fetchMails(setMails,setError,'Trash');};// Handles Trash press, updates category and title\nvar handleSent=function handleSent(){setTitle('Sent');setDisplay(false);fetchMails(setMails,setError,'Sent');};// Code for search below taken from below website\n// https://mui.com/material-ui/react-app-bar/\nvar Search=styled('div')(function(_ref){var theme=_ref.theme;return _defineProperty({'position':'relative','borderRadius':theme.shape.borderRadius,'backgroundColor':alpha(theme.palette.common.white,0.15),'&:hover':{backgroundColor:alpha(theme.palette.common.white,0.25)},'marginRight':theme.spacing(2),'marginLeft':0,'width':'100%'},theme.breakpoints.up('sm'),{marginLeft:theme.spacing(3),width:'auto'});});var SearchIconWrapper=styled('div')(function(_ref3){var theme=_ref3.theme;return{padding:theme.spacing(0,2),height:'100%',position:'absolute',pointerEvents:'none',display:'flex',alignItems:'center',justifyContent:'center'};});var StyledInputBase=styled(InputBase)(function(_ref4){var theme=_ref4.theme;return{'color':'inherit','& .MuiInputBase-input':_defineProperty({padding:theme.spacing(1,1,1,0),// vertical padding + font size from searchIcon\npaddingLeft:\"calc(1em + \".concat(theme.spacing(4),\")\"),transition:theme.transitions.create('width'),width:'100%'},theme.breakpoints.up('md'),{width:'20ch'})};});// Drawer component on left side, definitions here.\n// Some of the lines are taken from https://mui.com/material-ui/react-drawer/\nvar drawer=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Toolbar,{}),/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:name},'name')},'nameDrawer'),/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsxs(ListItemButton,{onClick:function onClick(){return handleInbox();},\"aria-label\":\"inboxButton\",children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(MailIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:'Inbox'})]})},'Inbox'),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(List,{children:[/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsxs(ListItemButton,{\"aria-label\":\"starredButton\",children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(StarIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:'Starred '+numStarred})]})},'Starred'),/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsxs(ListItemButton,{onClick:function onClick(){return handleSent();},\"aria-label\":\"sentButton\",children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(ArrowCircleRightIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:'Sent'})]})},'Sent'),/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsxs(ListItemButton,{onClick:function onClick(){return handleTrash();},\"aria-label\":\"trashButton\",children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(InboxIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:'Trash'})]})},'Trash')]}),/*#__PURE__*/_jsx(Divider,{})]});/**\n   * Creates display to show email contents when clicking on specific\n   * email. Code for box and appbar is influenced by the code found on\n   * https://mui.com/material-ui/react-drawer/\n   * Similar style to title appbar and box\n   * @return {*} String containing display elements\n   */var createDisplay=function createDisplay(){return/*#__PURE__*/_jsxs(Box,{\"z-index\":\"appBar\",hidden:!display,sx:{flexgrow:1,height:'95%',width:{sm:\"calc(100%)\"},position:'fixed',bottom:0,right:0,backgroundColor:'white'},children:[/*#__PURE__*/_jsx(AppBar,{sx:{flexgrow:1,height:'55px',width:{sm:\"calc(100%)\"},position:'fixed',top:'0%',right:0,backgroundColor:'primary.dark'},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"close mobile reader\",onClick:function onClick(){setDisplay(false);},children:/*#__PURE__*/_jsx(NavigateBeforeIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"div\",sx:{flexGrow:1}}),/*#__PURE__*/_jsx(MailOutlineIcon,{fontSize:\"large\"}),/*#__PURE__*/_jsx(MoveToInboxIcon,{fontSize:\"large\"}),/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"large\"})]})}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"div\",sx:{flexGrow:1,borderTop:1,color:'#000000',backgroundColor:'#E5E5E5'},children:subject}),/*#__PURE__*/_jsx(Box,{sx:{backgroundColor:'#E0E0E0'},children:/*#__PURE__*/_jsxs(List,{children:[/*#__PURE__*/_jsxs(ListItem,{sx:{flexGrow:1,backgroundColor:'#E0E0E0',borderBottom:1,borderTop:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:title}),/*#__PURE__*/_jsx(ListItemText,{}),/*#__PURE__*/_jsx(StarIcon,{style:{color:favorite}})]},'display title'),/*#__PURE__*/_jsxs(ListItem,{sx:{flexGrow:1,backgroundColor:'#F0F0F0',borderBottom:1},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Avatar,{}),/*#__PURE__*/_jsx(ListItemText,{primary:from+' '+getReceived(received),secondary:/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Typography,{sx:{display:'inline'},component:\"span\",variant:\"body2\",color:\"text.primary\",children:fromAddress})})}),/*#__PURE__*/_jsx(ArrowBackIcon,{})]},'Contents of it')]})}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:content})]});};/**\n   * Updates display with the contents of an email\n   * Also sets display to true\n   * @param {string} mail email being used to update display\n   * @return {*} Returns nothing, only needs to update display\n   */var updateDisplay=function updateDisplay(mail){setFavorite(mail.mail.favorite);mail.mail.read=300;setDisplay(true);setSubject(mail.mail.subject);setFrom(mail.mail.from.name);setFromAddress(mail.mail.from.email);setContent(mail.mail.content);var months=['January','February','March','April','May','June','July','August','September','October','November','December'];var e='';var current=new Date(mail.mail.received);e=months[current.getMonth()]+' '+current.getDate()+', '+current.getFullYear()+' @ '+current.getHours()+':'+current.getMinutes();setReceived(e);return'';};/**\n   * creates  row for the current email being looked at\n   * Determines the category the email is in from email.mailbox\n   * Has onClick function to display email contents and\n   * getReceived() function to determine display dates\n   * @param {string} mail email row is being created for\n   * @return {string} String containing TableRow elements\n   */var createRow=function createRow(mail){var item=localStorage.getItem('user');item=JSON.parse(item);var from=mail.mail.from.name;if(from.length>25){from=from.substring(0,22)+'...';}var s=mail.mail.subject+' - '+mail.mail.content;if(s.length>50){s=s.substring(0,47)+'...';}// https://mui.com/material-ui/react-list/\nif(item['name']===mail.mailbox['Name']){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(ListItem,{sx:{flexGrow:1,backgroundColor:'#F0F0F0',border:2},alignItems:\"flex-start\",children:[/*#__PURE__*/_jsx(Avatar,{}),/*#__PURE__*/_jsx(ListItemText,{onClick:function onClick(){return updateDisplay(mail);},\"aria-label\":\"clickRow\",primary:/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Typography,{sx:{fontWeight:mail.mail.read},children:from})}),secondary:/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Typography,{sx:{display:'inline',fontWeight:mail.mail.read},component:\"span\",variant:\"body2\",color:\"text.primary\",children:s})})}),/*#__PURE__*/_jsx(Typography,{children:getReceived(mail.mail.received)}),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"StarIcon\",onClick:function onClick(){if(mail.mail.favorite==='grey'){mail.mail.favorite='yellow';setFavorite(mail.mail.favorite);setNumStarred(numStarred+1);return;}else{mail.mail.favorite='grey';setFavorite(mail.mail.favorite);setNumStarred(numStarred-1);return;}},children:/*#__PURE__*/_jsx(StarIcon,{style:{color:mail.mail.favorite}})})]},mail)},Math.random()*100000000000000);}else{console.log(error);return;}};/**\n   * Updates the received date to proper display for table cell\n   * @param {string} received Received string to convert to date\n   * @return {string} returns string to put in cell.\n   */var getReceived=function getReceived(received){var d=new Date(received);var current=new Date();var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];if(current.getFullYear()-d.getFullYear()>0){// Greater than one year\nreturn d.getFullYear();}else if((current.getMonth()-d.getMonth()!==0||Math.abs(current.getDate()-d.getDate())>1)&&d.getDate()!==25){if(Number(d.getDate())<10){return months[d.getMonth()]+' 0'+d.getDate();}return months[d.getMonth()]+' '+d.getDate();}else if(current.getDate()-d.getDate()===1||d.getDate()===25){// Yesterday\nreturn'Yesterday';}else{var hours=d.getHours()%12;var minutes=d.getMinutes()<10?'0'+d.getMinutes():d.getMinutes();var ampm=d.getHours()>=12?'PM':'AM';return hours+':'+minutes+' '+ampm;}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(AppBar,{position:\"static\",children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",\"aria-label\":\"toggle drawer\",edge:\"start\",onClick:handleDrawerToggle,sx:{mr:2},children:/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsxs(Search,{children:[/*#__PURE__*/_jsx(SearchIconWrapper,{children:/*#__PURE__*/_jsx(SearchIcon,{})}),/*#__PURE__*/_jsx(StyledInputBase,{placeholder:\"Search\\u2026\",inputProps:{'aria-label':'search'}})]})]}),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"logout\",onClick:logout,role:\"button\",href:\"/Login\",children:/*#__PURE__*/_jsx(Avatar,{})})]})}),/*#__PURE__*/_jsx(Box,{sx:{bgcolor:'#eff1f1',borderBottom:1,borderTop:1},children:/*#__PURE__*/_jsx(Typography,{\"aria-label\":\"titleText\",variant:\"h4\",sx:{p:1},children:title})}),/*#__PURE__*/_jsx(Box,{component:\"nav\",sx:{width:{sm:drawerWidth},flexShrink:{sm:0}},\"aria-label\":\"mailbox folders\",children:/*#__PURE__*/_jsx(Drawer,{variant:\"temporary\",sx:{'display':{xs:'block',sm:'block'},'& .MuiDrawer-paper':{boxSizing:'border-box',width:drawerWidth}},open:mobileOpen,onClose:handleDrawerToggle,children:drawer})}),/*#__PURE__*/_jsx(Box,{component:\"main\",sx:{'flexGrow':1,'paddingTop':1},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[mails.map(function(mail){return createRow(mail);}),createDisplay()]})})]})});}export default Home;","map":{"version":3,"names":["React","AppBar","Box","CssBaseline","Divider","Drawer","IconButton","InboxIcon","List","ListItem","ListItemButton","ListItemIcon","ListItemText","MailIcon","MenuIcon","Toolbar","Typography","Grid","styled","alpha","InputBase","SearchIcon","NavigateBeforeIcon","Avatar","useState","DeleteIcon","MoveToInboxIcon","MailOutlineIcon","ArrowBackIcon","StarIcon","ArrowCircleRightIcon","SharedContext","drawerWidth","fetchMails","setMails","setError","mailbox","item","localStorage","getItem","user","JSON","parse","bearerToken","accessToken","fetch","method","headers","Headers","then","response","ok","json","setItem","catch","error","console","log","status","statusText","Home","mails","name","setName","mobileOpen","setMobileOpen","title","setTitle","display","setDisplay","subject","setSubject","from","setFrom","received","setReceived","content","setContent","favorite","setFavorite","fromAddress","setFromAddress","numStarred","setNumStarred","useContext","handleDrawerToggle","logout","removeItem","useEffect","handleInbox","handleTrash","handleSent","Search","theme","shape","borderRadius","palette","common","white","backgroundColor","spacing","breakpoints","up","marginLeft","width","SearchIconWrapper","padding","height","position","pointerEvents","alignItems","justifyContent","StyledInputBase","paddingLeft","transition","transitions","create","drawer","createDisplay","flexgrow","sm","bottom","right","top","flexGrow","borderTop","color","borderBottom","getReceived","updateDisplay","mail","read","email","months","e","current","Date","getMonth","getDate","getFullYear","getHours","getMinutes","createRow","length","substring","s","border","fontWeight","Math","random","d","abs","Number","hours","minutes","ampm","mr","bgcolor","p","flexShrink","xs","boxSizing","map"],"sources":["C:/Users/Gregory Santosa/Desktop/Fall2022HW/personal/cse186/Assignment8/frontend/src/Home.jsx"],"sourcesContent":["/*\n#######################################################################\n#\n# Copyright (C) 2020-2022 David C. Harrison. All right reserved.\n#\n# You may not use, distribute, publish, or modify this code without\n# the express written permission of the copyright holder.\n#\n#######################################################################\n*/\n\nimport React from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Divider from '@mui/material/Divider';\nimport Drawer from '@mui/material/Drawer';\nimport IconButton from '@mui/material/IconButton';\nimport InboxIcon from '@mui/icons-material/MoveToInbox';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport MailIcon from '@mui/icons-material/Mail';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport Grid from '@mui/material/Grid';\nimport {styled, alpha} from '@mui/material/styles';\nimport InputBase from '@mui/material/InputBase';\nimport SearchIcon from '@mui/icons-material/Search';\nimport NavigateBeforeIcon from '@mui/icons-material/NavigateBefore';\nimport Avatar from '@mui/material/Avatar';\nimport {useState} from 'react';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport MoveToInboxIcon from '@mui/icons-material/MoveToInbox';\nimport MailOutlineIcon from '@mui/icons-material/MailOutline';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport StarIcon from '@mui/icons-material/Star';\nimport ArrowCircleRightIcon from '@mui/icons-material/ArrowCircleRight';\nimport SharedContext from './SharedContext.js';\nconst drawerWidth = 160;\n\nconst fetchMails = (setMails, setError, mailbox) => {\n  const item = localStorage.getItem('user');\n  if (!item) {\n    return;\n  }\n  const user = JSON.parse(item);\n  const bearerToken = user.accessToken;\n  fetch('http://localhost:3010/v0/Mailbox?mailbox='+mailbox, {\n    method: 'get',\n    headers: new Headers({\n      'Authorization': `Bearer ${bearerToken}`,\n      'Content-Type': 'application/x-www-form-urlencoded',\n    }),\n  })\n    .then((response) => {\n      if (!response.ok) {\n        throw response;\n      }\n      return response.json();\n    })\n    .then((json) => {\n      localStorage.setItem('rand', '4');\n      setError('');\n      setMails(json);\n    })\n    .catch((error) => {\n      localStorage.setItem('random', '4');\n      console.log(error);\n      setMails([]);\n      setError(`${error.status} - ${error.statusText}`);\n    });\n};\n\n\n/**\n * @return {object} JSX Table\n */\nfunction Home() {\n  const user = JSON.parse(localStorage.getItem('user'));\n  const [mails, setMails] = React.useState([]);\n  const [name, setName] = React.useState(user ? user.name : '');\n  const [error, setError] = React.useState('Logged Out');\n\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  const [title, setTitle] = useState('Inbox');\n\n  const [display, setDisplay] = useState(false);\n  const [subject, setSubject] = useState('');\n  const [from, setFrom] = useState('');\n  const [received, setReceived] = useState('');\n  const [content, setContent] = useState('');\n  const [favorite, setFavorite] = useState('');\n  const [fromAddress, setFromAddress] = useState('');\n  const [numStarred, setNumStarred] = useState(0);\n  const {mailbox} = React.useContext(SharedContext);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n  const logout = () => {\n    localStorage.removeItem('user');\n    setMails([]);\n    setName('');\n    setError('Logged Out');\n  };\n\n  React.useEffect(() => {\n    if (mailbox) {\n      fetchMails(setMails, setError, mailbox);\n    }\n    fetchMails(setMails, setError, 'Inbox');\n    if (mailbox && typeof(mailbox) !== 'string') {\n      setMails(mailbox);\n    }\n  }, [mailbox],\n  );\n\n  // Handles Inbox press, updates category and title\n  const handleInbox = () => {\n    setTitle('Inbox');\n    setDisplay(false);\n    fetchMails(setMails, setError, 'Inbox');\n  };\n  // Handles Trash press, updates category and title\n  const handleTrash = () => {\n    setTitle('Trash');\n    setDisplay(false);\n    fetchMails(setMails, setError, 'Trash');\n  };\n\n  // Handles Trash press, updates category and title\n  const handleSent = () => {\n    setTitle('Sent');\n    setDisplay(false);\n    fetchMails(setMails, setError, 'Sent');\n  };\n\n  // Code for search below taken from below website\n  // https://mui.com/material-ui/react-app-bar/\n  const Search = styled('div')(({theme}) => ({\n    'position': 'relative',\n    'borderRadius': theme.shape.borderRadius,\n    'backgroundColor': alpha(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: alpha(theme.palette.common.white, 0.25),\n    },\n    'marginRight': theme.spacing(2),\n    'marginLeft': 0,\n    'width': '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  }));\n\n  const SearchIconWrapper = styled('div')(({theme}) => ({\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  }));\n\n  const StyledInputBase = styled(InputBase)(({theme}) => ({\n    'color': 'inherit',\n    '& .MuiInputBase-input': {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)})`,\n      transition: theme.transitions.create('width'),\n      width: '100%',\n      [theme.breakpoints.up('md')]: {\n        width: '20ch',\n      },\n    },\n  }));\n\n  // Drawer component on left side, definitions here.\n  // Some of the lines are taken from https://mui.com/material-ui/react-drawer/\n  const drawer = (\n    <div>\n      <Toolbar />\n      <ListItem key = {'nameDrawer'}>\n        <Typography key = {'name'} variant ='h6'>\n          {name}\n        </Typography>\n      </ListItem>\n      <ListItem key={'Inbox'} disablePadding>\n        <ListItemButton onClick={()=>handleInbox()}\n          aria-label=\"inboxButton\">\n          <ListItemIcon>\n            {<MailIcon />}\n          </ListItemIcon>\n          <ListItemText primary={'Inbox'} />\n        </ListItemButton>\n      </ListItem>\n      <Divider />\n      <List>\n        <ListItem key={'Starred'} disablePadding>\n          <ListItemButton aria-label=\"starredButton\">\n            <ListItemIcon>\n              {<StarIcon/>}\n            </ListItemIcon>\n            <ListItemText primary={'Starred '+numStarred} />\n          </ListItemButton>\n        </ListItem>\n        <ListItem key={'Sent'} disablePadding>\n          <ListItemButton onClick={()=>handleSent()}\n            aria-label=\"sentButton\">\n            <ListItemIcon>\n              {<ArrowCircleRightIcon />}\n            </ListItemIcon>\n            <ListItemText primary={'Sent'} />\n          </ListItemButton>\n        </ListItem>\n        <ListItem key={'Trash'} disablePadding>\n          <ListItemButton onClick={()=>handleTrash()}\n            aria-label=\"trashButton\">\n            <ListItemIcon>\n              {<InboxIcon />}\n            </ListItemIcon>\n            <ListItemText primary={'Trash'} />\n          </ListItemButton>\n        </ListItem>\n      </List>\n      <Divider />\n    </div>\n  );\n\n  /**\n   * Creates display to show email contents when clicking on specific\n   * email. Code for box and appbar is influenced by the code found on\n   * https://mui.com/material-ui/react-drawer/\n   * Similar style to title appbar and box\n   * @return {*} String containing display elements\n   */\n  const createDisplay = () => {\n    return (\n      <Box z-index='appBar'\n        hidden={!display}\n        sx={{\n          flexgrow: 1,\n          height: '95%',\n          width: {sm: `calc(100%)`},\n          position: 'fixed',\n          bottom: 0,\n          right: 0,\n          backgroundColor: 'white'}}>\n        <AppBar\n          sx={{\n            flexgrow: 1,\n            height: '55px',\n            width: {sm: `calc(100%)`},\n            position: 'fixed',\n            top: '0%',\n            right: 0,\n            backgroundColor: 'primary.dark'}}\n        >\n          <Toolbar>\n            <IconButton\n              aria-label='close mobile reader'\n              onClick={()=>{\n                setDisplay(false);\n              }}>\n              <NavigateBeforeIcon\n                fontSize = 'large'\n              /></IconButton>\n            <Typography variant='h4' component='div'\n              sx={{flexGrow: 1}}>\n            </Typography>\n            <MailOutlineIcon fontSize = 'large'/>\n            <MoveToInboxIcon fontSize = 'large'/>\n            <DeleteIcon fontSize = 'large'/>\n          </Toolbar>\n        </AppBar>\n        <Typography variant='h4' component='div'\n          sx={{flexGrow: 1,\n            borderTop: 1,\n            color: '#000000',\n            backgroundColor: '#E5E5E5'}}>\n          {subject}\n        </Typography>\n        <Box sx={{backgroundColor: '#E0E0E0'}}>\n          <List>\n            <ListItem key = {'display title'}\n              sx={{flexGrow: 1, backgroundColor: '#E0E0E0',\n                borderBottom: 1,\n                borderTop: 1}}>\n              <Typography variant = 'h5'>{title}</Typography>\n              <ListItemText></ListItemText>\n              <StarIcon style={{color: favorite}} />\n            </ListItem>\n            <ListItem key = {'Contents of it'}\n              sx={{flexGrow: 1, backgroundColor: '#F0F0F0',\n                borderBottom: 1}}\n              alignItems=\"center\">\n              <Avatar/>\n              <ListItemText primary={from + ' ' + getReceived(received)}\n                secondary={\n                  <React.Fragment>\n                    <Typography\n                      sx={{display: 'inline'}}\n                      component=\"span\"\n                      variant=\"body2\"\n                      color=\"text.primary\"\n                    >\n                      {fromAddress}\n                    </Typography>\n                  </React.Fragment>\n                }></ListItemText>\n              <ArrowBackIcon />\n            </ListItem>\n          </List>\n        </Box>\n        <Typography variant='body1'>\n          {content}\n        </Typography>\n      </Box>\n    );\n  };\n  /**\n   * Updates display with the contents of an email\n   * Also sets display to true\n   * @param {string} mail email being used to update display\n   * @return {*} Returns nothing, only needs to update display\n   */\n  const updateDisplay = (mail) => {\n    setFavorite(mail.mail.favorite);\n    mail.mail.read = 300;\n    setDisplay(true);\n    setSubject(mail.mail.subject);\n    setFrom(mail.mail.from.name);\n    setFromAddress(mail.mail.from.email);\n    setContent(mail.mail.content);\n    const months = [\n      'January',\n      'February',\n      'March',\n      'April',\n      'May',\n      'June',\n      'July',\n      'August',\n      'September',\n      'October',\n      'November',\n      'December',\n    ];\n    let e = '';\n    const current = new Date(mail.mail.received);\n    e=months[current.getMonth()]+' '+current.getDate()+', '+\n      current.getFullYear()+' @ '+current.getHours()+':'+current.getMinutes();\n    setReceived(e);\n    return '';\n  };\n\n  /**\n   * creates  row for the current email being looked at\n   * Determines the category the email is in from email.mailbox\n   * Has onClick function to display email contents and\n   * getReceived() function to determine display dates\n   * @param {string} mail email row is being created for\n   * @return {string} String containing TableRow elements\n   */\n  const createRow = (mail) => {\n    let item = localStorage.getItem('user');\n    item = JSON.parse(item);\n    let from = mail.mail.from.name;\n    if (from.length > 25) {\n      from = from.substring(0, 22) + '...';\n    }\n    let s = mail.mail.subject + ' - ' + mail.mail.content;\n    if (s.length>50) {\n      s = s.substring(0, 47) + '...';\n    }\n    // https://mui.com/material-ui/react-list/\n    if (item['name'] === mail.mailbox['Name']) {\n      return (\n        <Grid item xs={12} key = {Math.random()*100000000000000}>\n          <ListItem key = {mail}\n            sx={{flexGrow: 1, backgroundColor: '#F0F0F0',\n              border: 2}}\n            alignItems=\"flex-start\">\n            <Avatar/>\n            <ListItemText onClick={()=>updateDisplay(mail)}\n              aria-label='clickRow'\n              primary={\n                <React.Fragment>\n                  <Typography\n                    sx={{fontWeight: mail.mail.read}}\n                  >\n                    {from}\n                  </Typography>\n                </React.Fragment>\n              }\n              secondary={\n                <React.Fragment>\n                  <Typography\n                    sx={{display: 'inline',\n                      fontWeight: mail.mail.read}}\n                    component=\"span\"\n                    variant=\"body2\"\n                    color=\"text.primary\"\n                  >\n                    {s}\n                  </Typography>\n                </React.Fragment>\n              }></ListItemText>\n            <Typography>\n              {getReceived(mail.mail.received)}\n            </Typography>\n            <IconButton aria-label = 'StarIcon'\n              onClick={()=>{\n                if (mail.mail.favorite === 'grey') {\n                  mail.mail.favorite = 'yellow';\n                  setFavorite(mail.mail.favorite);\n                  setNumStarred(numStarred+1);\n                  return;\n                } else {\n                  mail.mail.favorite ='grey';\n                  setFavorite(mail.mail.favorite);\n                  setNumStarred(numStarred-1);\n                  return;\n                }\n              }}>\n              <StarIcon\n                style={{color: mail.mail.favorite}}/></IconButton>\n          </ListItem>\n        </Grid>\n      );\n    } else {\n      console.log(error);\n      return;\n    }\n  };\n\n  /**\n   * Updates the received date to proper display for table cell\n   * @param {string} received Received string to convert to date\n   * @return {string} returns string to put in cell.\n   */\n  const getReceived = (received) => {\n    const d = new Date(received);\n    const current = new Date();\n    const months = [\n      'Jan',\n      'Feb',\n      'Mar',\n      'Apr',\n      'May',\n      'Jun',\n      'Jul',\n      'Aug',\n      'Sep',\n      'Oct',\n      'Nov',\n      'Dec',\n    ];\n    if (current.getFullYear() - d.getFullYear()>0) { // Greater than one year\n      return d.getFullYear();\n    } else if ((current.getMonth() - d.getMonth() !== 0 ||\n        Math.abs(current.getDate() - d.getDate()) > 1) && d.getDate() !== 25) {\n      if (Number(d.getDate())<10) {\n        return months[d.getMonth()] + ' 0' + d.getDate();\n      }\n      return months[d.getMonth()] + ' ' + d.getDate();\n    } else if (current.getDate() - d.getDate() === 1 ||\n      d.getDate() === 25) { // Yesterday\n      return 'Yesterday';\n    } else {\n      const hours = d.getHours() % 12;\n      const minutes = d.getMinutes() < 10 ? '0'+d.getMinutes() : d.getMinutes();\n      const ampm = d.getHours()>=12 ? 'PM' : 'AM';\n      return hours + ':' + minutes + ' ' + ampm;\n    }\n  };\n\n  return (\n    <div>\n      {/* Box and all code inside taken except title taken from https://mui.com/material-ui/react-drawer/*/}\n      <Box sx={{flexGrow: 1}}>\n        <CssBaseline />\n        <AppBar\n          position=\"static\"\n        >\n          <Box sx={{display: 'flex', justifyContent: 'space-between'}}>\n            <Toolbar>\n              <IconButton\n                color=\"inherit\"\n                aria-label=\"toggle drawer\"\n                edge=\"start\"\n                onClick={handleDrawerToggle}\n                sx={{mr: 2}}\n              >\n                <MenuIcon />\n              </IconButton>\n              {/* Search field and all code taken except title taken from https://mui.com/material-ui/react-app-bar/*/}\n              <Search>\n                <SearchIconWrapper>\n                  <SearchIcon />\n                </SearchIconWrapper>\n                <StyledInputBase\n                  placeholder=\"Search…\"\n                  inputProps={{'aria-label': 'search'}}\n                />\n              </Search>\n            </Toolbar>\n            <IconButton\n              aria-label='logout'\n              onClick={logout}\n              role='button'\n              href='/Login'>\n              <Avatar/></IconButton>\n          </Box>\n        </AppBar>\n        <Box sx={{bgcolor: '#eff1f1', borderBottom: 1, borderTop: 1}}>\n          <Typography aria-label='titleText' variant=\"h4\" sx={{p: 1}}>\n            {title}\n          </Typography>\n        </Box>\n        {/* Box taken from https://mui.com/material-ui/react-drawer/*/}\n        <Box\n          component=\"nav\"\n          sx={{width: {sm: drawerWidth}, flexShrink: {sm: 0}}}\n          aria-label=\"mailbox folders\"\n        >\n          {/* Drawer taken from https://mui.com/material-ui/react-drawer/*/}\n          <Drawer\n            variant=\"temporary\"\n            sx={{\n              'display': {xs: 'block', sm: 'block'},\n              '& .MuiDrawer-paper':\n              {boxSizing: 'border-box', width: drawerWidth},\n            }}\n            open={mobileOpen}\n            onClose={handleDrawerToggle}\n          >\n            {drawer}\n          </Drawer>\n        </Box>\n        {/* Box declaration and attributes taken from https://mui.com/material-ui/react-drawer/*/}\n        <Box\n          component=\"main\"\n          sx={{'flexGrow': 1, 'paddingTop': 1}}\n        >\n          <Grid container spacing={1}>\n            {mails.map((mail) => (createRow(mail)\n            ))}\n            {createDisplay()}\n          </Grid>\n        </Box>\n      </Box>\n    </div>\n  );\n}\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}