{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gregory Santosa\\\\Desktop\\\\Fall2022HW\\\\personal\\\\cse186\\\\Assignment8\\\\frontend\\\\src\\\\Login.jsx\",\n  _s = $RefreshSig$();\n/*\n#######################################################################\n#\n# Copyright (C) 2020-2022 David C. Harrison. All right reserved.\n#\n# You may not use, distribute, publish, or modify this code without\n# the express written permission of the copyright holder.\n#\n#######################################################################\n*/\n\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport CustomInput from '@mui/material/CustomInput';\nimport Button from '@mui/material/Button';\n\n/**\n * login function\n * @return {*}\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const [user, setUser] = React.useState({\n    email: '',\n    password: ''\n  });\n  const history = useNavigate();\n  const handleInputChange = event => {\n    const {\n      value,\n      name\n    } = event.target;\n    const u = user;\n    u[name] = value;\n    setUser(u);\n  };\n  const onSubmit = event => {\n    event.preventDefault();\n    fetch('http://localhost:3010/v0/login', {\n      method: 'POST',\n      body: JSON.stringify(user),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      if (!res.ok) {\n        throw res;\n      }\n      return res.json();\n    }).then(json => {\n      localStorage.setItem('user', JSON.stringify(json));\n      history('/');\n    }).catch(err => {\n      alert('Error logging in, please try again');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: onSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      id: \"welcome\",\n      children: \"CSE186 Authenticated Books Example\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"EMail\",\n      onChange: handleInputChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      onChange: handleInputChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      value: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"Am/5aEqIw7GDqY9g0ml7Iyb4VnI=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useNavigate","CustomInput","Button","Login","user","setUser","useState","email","password","history","handleInputChange","event","value","name","target","u","onSubmit","preventDefault","fetch","method","body","JSON","stringify","headers","then","res","ok","json","localStorage","setItem","catch","err","alert"],"sources":["C:/Users/Gregory Santosa/Desktop/Fall2022HW/personal/cse186/Assignment8/frontend/src/Login.jsx"],"sourcesContent":["/*\n#######################################################################\n#\n# Copyright (C) 2020-2022 David C. Harrison. All right reserved.\n#\n# You may not use, distribute, publish, or modify this code without\n# the express written permission of the copyright holder.\n#\n#######################################################################\n*/\n\nimport React from 'react';\nimport {useNavigate} from 'react-router-dom';\nimport CustomInput from '@mui/material/CustomInput';\nimport Button from '@mui/material/Button';\n\n/**\n * login function\n * @return {*}\n */\nfunction Login() {\n  const [user, setUser] = React.useState({email: '', password: ''});\n  const history = useNavigate();\n\n  const handleInputChange = (event) => {\n    const {value, name} = event.target;\n    const u = user;\n    u[name] = value;\n    setUser(u);\n  };\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    fetch('http://localhost:3010/v0/login', {\n      method: 'POST',\n      body: JSON.stringify(user),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((res) => {\n        if (!res.ok) {\n          throw res;\n        }\n        return res.json();\n      })\n      .then((json) => {\n        localStorage.setItem('user', JSON.stringify(json));\n        history('/');\n      })\n      .catch((err) => {\n        alert('Error logging in, please try again');\n      });\n  };\n\n  return (\n    <form onSubmit={onSubmit}>\n      <h2 id='welcome'>CSE186 Authenticated Books Example</h2>\n      <input\n        type=\"email\"\n        name=\"email\"\n        placeholder=\"EMail\"\n        onChange={handleInputChange}\n        required\n      />\n      <input\n        type=\"password\"\n        name=\"password\"\n        placeholder=\"Password\"\n        onChange={handleInputChange}\n        required\n      />\n      <input type=\"submit\" value=\"Submit\"/>\n    </form>\n  );\n}\n\nexport default Login;\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,WAAW,QAAO,kBAAkB;AAC5C,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,MAAM,MAAM,sBAAsB;;AAEzC;AACA;AACA;AACA;AAHA;AAIA,SAASC,KAAK,GAAG;EAAA;EACf,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,KAAK,CAACO,QAAQ,CAAC;IAACC,KAAK,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAE,CAAC,CAAC;EACjE,MAAMC,OAAO,GAAGT,WAAW,EAAE;EAE7B,MAAMU,iBAAiB,GAAIC,KAAK,IAAK;IACnC,MAAM;MAACC,KAAK;MAAEC;IAAI,CAAC,GAAGF,KAAK,CAACG,MAAM;IAClC,MAAMC,CAAC,GAAGX,IAAI;IACdW,CAAC,CAACF,IAAI,CAAC,GAAGD,KAAK;IACfP,OAAO,CAACU,CAAC,CAAC;EACZ,CAAC;EAED,MAAMC,QAAQ,GAAIL,KAAK,IAAK;IAC1BA,KAAK,CAACM,cAAc,EAAE;IACtBC,KAAK,CAAC,gCAAgC,EAAE;MACtCC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAClB,IAAI,CAAC;MAC1BmB,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC,CACCC,IAAI,CAAEC,GAAG,IAAK;MACb,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;QACX,MAAMD,GAAG;MACX;MACA,OAAOA,GAAG,CAACE,IAAI,EAAE;IACnB,CAAC,CAAC,CACDH,IAAI,CAAEG,IAAI,IAAK;MACdC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAER,IAAI,CAACC,SAAS,CAACK,IAAI,CAAC,CAAC;MAClDlB,OAAO,CAAC,GAAG,CAAC;IACd,CAAC,CAAC,CACDqB,KAAK,CAAEC,GAAG,IAAK;MACdC,KAAK,CAAC,oCAAoC,CAAC;IAC7C,CAAC,CAAC;EACN,CAAC;EAED,oBACE;IAAM,QAAQ,EAAEhB,QAAS;IAAA,wBACvB;MAAI,EAAE,EAAC,SAAS;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAwC,eACxD;MACE,IAAI,EAAC,OAAO;MACZ,IAAI,EAAC,OAAO;MACZ,WAAW,EAAC,OAAO;MACnB,QAAQ,EAAEN,iBAAkB;MAC5B,QAAQ;IAAA;MAAA;MAAA;MAAA;IAAA,QACR,eACF;MACE,IAAI,EAAC,UAAU;MACf,IAAI,EAAC,UAAU;MACf,WAAW,EAAC,UAAU;MACtB,QAAQ,EAAEA,iBAAkB;MAC5B,QAAQ;IAAA;MAAA;MAAA;MAAA;IAAA,QACR,eACF;MAAO,IAAI,EAAC,QAAQ;MAAC,KAAK,EAAC;IAAQ;MAAA;MAAA;MAAA;IAAA,QAAE;EAAA;IAAA;IAAA;IAAA;EAAA,QAChC;AAEX;AAAC,GAvDQP,KAAK;EAAA,QAEIH,WAAW;AAAA;AAAA,KAFpBG,KAAK;AAyDd,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}