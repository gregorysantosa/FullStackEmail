{"ast":null,"code":"import _slicedToArray from\"C:/Users/Gregory Santosa/Desktop/Fall2022HW/personal/cse186/Assignment8/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/*\n#######################################################################\n#\n# Copyright (C) 2020-2022 David C. Harrison. All right reserved.\n#\n# You may not use, distribute, publish, or modify this code without\n# the express written permission of the copyright holder.\n#\n#######################################################################\n*/import React from'react';import{useNavigate}from'react-router-dom';import Button from'@mui/material/Button';import CssBaseline from'@mui/material/CssBaseline';import TextField from'@mui/material/TextField';import Box from'@mui/material/Box';import Container from'@mui/material/Container';import{createTheme,ThemeProvider}from'@mui/material/styles';import Typography from'@mui/material/Typography';/**\n * login function\n * @return {*}\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _React$useState=React.useState({email:'',password:''}),_React$useState2=_slicedToArray(_React$useState,2),user=_React$useState2[0],setUser=_React$useState2[1];var history=useNavigate();var handleInputChange=function handleInputChange(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;var u=user;u[name]=value;setUser(u);};var theme=createTheme();var onSubmit=function onSubmit(event){event.preventDefault();fetch('http://localhost:3010/v0/login',{method:'POST',body:JSON.stringify(user),headers:{'Content-Type':'application/json'}}).then(function(res){if(!res.ok){throw res;}return res.json();}).then(function(json){localStorage.setItem('user',JSON.stringify(json));history('/');}).catch(function(err){alert('Error logging in, please try again');});};React.useEffect(function(){localStorage.removeItem('user');},[]);// UI Design inspired by following code\n// https://github.com/mui/material-ui/blob/v5.10.14/docs/data/material/getting-started/templates/sign-in/SignIn.js\nreturn/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Login\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:onSubmit,noValidate:true,sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoFocus:true,onChange:handleInputChange}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",onChange:handleInputChange}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Log In\"})]})]})]})});}export default Login;","map":{"version":3,"names":["React","useNavigate","Button","CssBaseline","TextField","Box","Container","createTheme","ThemeProvider","Typography","Login","useState","email","password","user","setUser","history","handleInputChange","event","target","value","name","u","theme","onSubmit","preventDefault","fetch","method","body","JSON","stringify","headers","then","res","ok","json","localStorage","setItem","catch","err","alert","useEffect","removeItem","marginTop","display","flexDirection","alignItems","mt","mb"],"sources":["C:/Users/Gregory Santosa/Desktop/Fall2022HW/personal/cse186/Assignment8/frontend/src/Login.jsx"],"sourcesContent":["/*\n#######################################################################\n#\n# Copyright (C) 2020-2022 David C. Harrison. All right reserved.\n#\n# You may not use, distribute, publish, or modify this code without\n# the express written permission of the copyright holder.\n#\n#######################################################################\n*/\n\nimport React from 'react';\nimport {useNavigate} from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport Box from '@mui/material/Box';\nimport Container from '@mui/material/Container';\nimport {createTheme, ThemeProvider} from '@mui/material/styles';\nimport Typography from '@mui/material/Typography';\n\n/**\n * login function\n * @return {*}\n */\nfunction Login() {\n  const [user, setUser] = React.useState({email: '', password: ''});\n  const history = useNavigate();\n\n  const handleInputChange = (event) => {\n    const {value, name} = event.target;\n    const u = user;\n    u[name] = value;\n    setUser(u);\n  };\n\n  const theme = createTheme();\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    fetch('http://localhost:3010/v0/login', {\n      method: 'POST',\n      body: JSON.stringify(user),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((res) => {\n        if (!res.ok) {\n          throw res;\n        }\n        return res.json();\n      })\n      .then((json) => {\n        localStorage.setItem('user', JSON.stringify(json));\n        history('/');\n      })\n      .catch((err) => {\n        alert('Error logging in, please try again');\n      });\n  };\n\n  React.useEffect(() => {\n    localStorage.removeItem('user');\n  }, []);\n  // UI Design inspired by following code\n  // https://github.com/mui/material-ui/blob/v5.10.14/docs/data/material/getting-started/templates/sign-in/SignIn.js\n  return (\n    <ThemeProvider theme={theme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Typography component=\"h1\" variant=\"h5\">\n            Login\n          </Typography>\n          <Box component=\"form\" onSubmit={onSubmit} noValidate sx={{mt: 1}}>\n            <TextField\n              margin=\"normal\"\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoFocus\n              onChange={handleInputChange}\n            />\n            <TextField\n              margin=\"normal\"\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              onChange={handleInputChange}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{mt: 3, mb: 2}}\n            >\n              Log In\n            </Button>\n          </Box>\n        </Box>\n      </Container>\n    </ThemeProvider>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}