{"ast":null,"code":"\"use strict\";\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUrlByRequestOptions = exports.DEFAULT_PATH = void 0;\nvar http_1 = require(\"http\");\nvar debug = require('debug')('utils getUrlByRequestOptions');\nexports.DEFAULT_PATH = '/';\nvar DEFAULT_PROTOCOL = 'http:';\nvar DEFAULT_HOST = 'localhost';\nvar DEFAULT_PORT = 80;\nvar SSL_PORT = 443;\nfunction getAgent(options) {\n  return options.agent instanceof http_1.Agent ? options.agent : undefined;\n}\nfunction getProtocolByRequestOptions(options) {\n  var _a, _b;\n  if (options.protocol) {\n    return options.protocol;\n  }\n  var agent = getAgent(options);\n  var agentProtocol = (_a = agent) === null || _a === void 0 ? void 0 : _a.protocol;\n  if (agentProtocol) {\n    return agentProtocol;\n  }\n  var port = getPortByRequestOptions(options);\n  var isSecureRequest = options.cert || port === SSL_PORT;\n  return isSecureRequest ? 'https:' : ((_b = options.uri) === null || _b === void 0 ? void 0 : _b.protocol) || DEFAULT_PROTOCOL;\n}\nfunction getPortByRequestOptions(options) {\n  var _a, _b;\n  var agent = getAgent(options);\n  var agentPort = ((_a = agent) === null || _a === void 0 ? void 0 : _a.options.port) || ((_b = agent) === null || _b === void 0 ? void 0 : _b.defaultPort);\n  var optionsPort = options.port;\n  if (optionsPort || agentPort) {\n    var explicitPort = optionsPort || agentPort || DEFAULT_PORT;\n    return Number(explicitPort);\n  }\n}\nfunction getHostByRequestOptions(options) {\n  return options.hostname || options.host || DEFAULT_HOST;\n}\nfunction getAuthByRequestOptions(options) {\n  if (options.auth) {\n    var _a = __read(options.auth.split(':'), 2),\n      username = _a[0],\n      password = _a[1];\n    return {\n      username: username,\n      password: password\n    };\n  }\n}\n/**\n * Creates a `URL` instance from a given `RequestOptions` object.\n */\nfunction getUrlByRequestOptions(options) {\n  debug('request options', options);\n  var protocol = getProtocolByRequestOptions(options);\n  var host = getHostByRequestOptions(options);\n  var port = getPortByRequestOptions(options);\n  var path = options.path || exports.DEFAULT_PATH;\n  var auth = getAuthByRequestOptions(options);\n  debug('protocol', protocol);\n  debug('host', host);\n  debug('port', port);\n  debug('path', path);\n  var baseUrl = protocol + \"//\" + host;\n  debug('base URL:', baseUrl);\n  var url = options.uri ? new URL(options.uri.href) : new URL(path, baseUrl);\n  if (port) {\n    debug('detected explicit port', port);\n    url.port = port.toString();\n  }\n  if (auth) {\n    debug('resolved auth', auth);\n    url.username = auth.username;\n    url.password = auth.password;\n  }\n  debug('created URL:', url);\n  return url;\n}\nexports.getUrlByRequestOptions = getUrlByRequestOptions;","map":{"version":3,"mappings":"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","names":["debug","require","exports","DEFAULT_PROTOCOL","DEFAULT_HOST","DEFAULT_PORT","SSL_PORT","getAgent","options","agent","http_1","undefined","getProtocolByRequestOptions","protocol","agentProtocol","port","getPortByRequestOptions","isSecureRequest","cert","uri","agentPort","defaultPort","optionsPort","explicitPort","Number","getHostByRequestOptions","hostname","host","getAuthByRequestOptions","auth","split","username","password","getUrlByRequestOptions","path","baseUrl","url","URL","href","toString"],"sources":["C:\\Users\\Gregory Santosa\\Desktop\\Fall2022HW\\personal\\cse186\\Assignment8\\frontend\\node_modules\\@mswjs\\interceptors\\src\\utils\\getUrlByRequestOptions.ts"],"sourcesContent":["import { Agent } from 'http'\nimport { RequestOptions, Agent as HttpsAgent } from 'https'\n\nconst debug = require('debug')('utils getUrlByRequestOptions')\n\n// Request instance constructed by the \"request\" library\n// has a \"self\" property that has a \"uri\" field. This is\n// reproducible by performing a \"XMLHttpRequest\" request in JSDOM.\nexport interface RequestSelf {\n  uri?: URL\n}\n\nexport type ResolvedRequestOptions = RequestOptions & RequestSelf\n\nexport const DEFAULT_PATH = '/'\nconst DEFAULT_PROTOCOL = 'http:'\nconst DEFAULT_HOST = 'localhost'\nconst DEFAULT_PORT = 80\nconst SSL_PORT = 443\n\nfunction getAgent(\n  options: ResolvedRequestOptions\n): Agent | HttpsAgent | undefined {\n  return options.agent instanceof Agent ? options.agent : undefined\n}\n\nfunction getProtocolByRequestOptions(options: ResolvedRequestOptions): string {\n  if (options.protocol) {\n    return options.protocol\n  }\n\n  const agent = getAgent(options)\n  const agentProtocol = (agent as RequestOptions)?.protocol\n\n  if (agentProtocol) {\n    return agentProtocol\n  }\n\n  const port = getPortByRequestOptions(options)\n  const isSecureRequest = options.cert || port === SSL_PORT\n\n  return isSecureRequest ? 'https:' : options.uri?.protocol || DEFAULT_PROTOCOL\n}\n\nfunction getPortByRequestOptions(\n  options: ResolvedRequestOptions\n): number | undefined {\n  const agent = getAgent(options)\n  const agentPort =\n    (agent as HttpsAgent)?.options.port ||\n    (agent as RequestOptions)?.defaultPort\n  const optionsPort = options.port\n\n  if (optionsPort || agentPort) {\n    const explicitPort = optionsPort || agentPort || DEFAULT_PORT\n    return Number(explicitPort)\n  }\n}\n\nfunction getHostByRequestOptions(options: ResolvedRequestOptions): string {\n  return options.hostname || options.host || DEFAULT_HOST\n}\n\nfunction getAuthByRequestOptions(options: ResolvedRequestOptions) {\n  if (options.auth) {\n    const [username, password] = options.auth.split(':')\n    return { username, password }\n  }\n}\n\n/**\n * Creates a `URL` instance from a given `RequestOptions` object.\n */\nexport function getUrlByRequestOptions(options: ResolvedRequestOptions): URL {\n  debug('request options', options)\n\n  const protocol = getProtocolByRequestOptions(options)\n  const host = getHostByRequestOptions(options)\n  const port = getPortByRequestOptions(options)\n  const path = options.path || DEFAULT_PATH\n  const auth = getAuthByRequestOptions(options)\n\n  debug('protocol', protocol)\n  debug('host', host)\n  debug('port', port)\n  debug('path', path)\n\n  const baseUrl = `${protocol}//${host}`\n  debug('base URL:', baseUrl)\n\n  const url = options.uri ? new URL(options.uri.href) : new URL(path, baseUrl)\n\n  if (port) {\n    debug('detected explicit port', port)\n    url.port = port.toString()\n  }\n\n  if (auth) {\n    debug('resolved auth', auth)\n\n    url.username = auth.username\n    url.password = auth.password\n  }\n\n  debug('created URL:', url)\n\n  return url\n}\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}